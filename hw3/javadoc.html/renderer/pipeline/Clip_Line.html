<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.7) on Sat Oct 26 12:41:34 CDT 2024 -->
<title>Clip_Line</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-10-26">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Clip_Line";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">renderer.pipeline</a></div>
<h2 title="Class Clip_Line" class="title">Class Clip_Line</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>renderer.pipeline.Clip_Line</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <a href="../../src-html/renderer/pipeline/Clip_Line.html#line.207">Clip_Line</a>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Clip a (projected) <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> that sticks out of the
   view rectangle in the image plane. Interpolate <a href="../scene/Vertex.html" title="class in renderer.scene"><code>Vertex</code></a>
   color from any clipped off <code>Vertex</code> to the new <code>Vertex</code>.
<p>
   This clipping algorithm is a simplification of the Liang-Barsky
   Parametric Line Clipping algorithm.
<p>
   This algorithm assumes that all <code>Vertex</code> objects have been
   projected onto the <a href="../scene/Camera.html" title="class in renderer.scene"><code>Camera</code></a>'s image plane,
   <code>z = -1</code>. This algorithm also assumes that the camera's view
   rectangle in the image plane is
   <pre><code>
      -1 &lt;= x &lt;= +1  and
      -1 &lt;= y &lt;= +1.
   </code></pre>
<p>
   If a line segment's projected vertex has an <code>x</code> or <code>y</code>
   coordinate with absolute value greater than 1, then that vertex
   "sticks out" of the view rectangle. This algorithm will clip the
   line segment so that both of the line segment's vertices are within
   the view rectangle.
<p>
   Here is an outline of the clipping algorithm.
<p>
   Recursively process each line segment, using the following steps.
<p>
     1) Test if the line segment no longer needs to be clipped, i.e.,
        both of its vertices are within the view rectangle. If this is
        the case, then return true.
        <pre><code>
               x=-1        x=+1
                 |          |
                 |          |
             ----+----------+----- y = +1
                 |     v1   |
                 |    /     |
                 |   /      |
                 |  /       |
                 | v0       |
             ----+----------+----- y = -1
                 |          |
                 |          |
        </code></pre>
<p>
     2) Test if the line segment should be "trivially rejected". A line
        segment is "trivially rejected" if it is on the wrong side of any
        of the four lines that bound the view rectangle (i.e., the four
        lines <code>x = 1</code>, <code>x = -1</code>, <code>y = 1</code>, <code>y = -1</code>).
        If so, then return <code>false</code> (so the line segment will not be
        rasterized into the framebuffer).
<p>
        Notice that a line like the following one is trivially rejected
        because it is on the "wrong" side of the line <code>x = 1</code>.
        <pre><code>
                           x=1
                            |            v1
                            |            /
                 +----------+           /
                 |          |          /
                 |          |         /
                 |          |        /
                 |          |       /
                 |          |      /
                 +----------+     /
                            |    /
                            |  v0
        </code></pre>
        But the following line is NOT trivially rejected because, even
        though it is completely outside of the view rectangle, this line
        is not entirely on the wrong side of any one of the four lines
        <code>x = 1</code>, <code>x = -1</code>, <code>y = 1</code>, or <code>y = -1</code>.
        The line below will get clipped at least one time (either on the
        line <code>x = 1</code> or the line <code>y = -1</code>) before it is
        (recursively) a candidate for "trivial rejection". Notice that
        the line below could even be clipped twice, first on <code>y = 1</code>,
        then on <code>x = 1</code>, before it can be trivially rejected (by
        being on the wrong side of <code>y = -1</code>).
        <pre><code>
                           x=1
                            |          v1
                            |         /
                 +----------+        /
                 |          |       /
                 |          |      /
                 |          |     /
                 |          |    /
                 |          |   /
                 +----------+  /
                            | /
                            |/
                            /
                           /|
                          / |
                        v0
        </code></pre>
<p>
     3) If the line segment has been neither accepted nor rejected, then
        it needs to be clipped. So we test the line segment against each
        of the four clipping lines, <code>x = 1</code>, <code>x = -1</code>,
        <code>y = 1</code>, and <code>y = -1</code>, to determine if the line segment
        crosses one of those lines. We clip the line segment against the
        first line which we find that it crosses. Then we recursively clip
        the resulting clipped line segment. Notice that we only clip against
        the first clipping line which the segment is found to cross. We do
        not continue to test against the other clipping lines. This is
        because it may be the case, after just one clip, that the line
        segment is now a candidate for trivial accept or reject. So rather
        than test the line segment against several more clipping lines
        (which may be useless tests) it is more efficient to recursively
        clip the line segment, which will then start with the trivial accept
        or reject tests.
<p>
        When we clip a line segment against a clipping line, it is always
        the case that one endpoint of the line segment is on the "right"
        side of the clipping line and the other endpoint is on the "wrong"
        side of the clipping line. In the following picture, assume that
        <code>v0</code> is on the "wrong" side of the clipping line (<code>x = 1</code>)
        and <code>v1</code> is on the "right" side. So <code>v0</code> needs to be
        clipped off the line segment and replaced by a new vertex.
        <pre><code>
                             x=1
                         v1   |
                           \  |
                            \ |
                             \|
                              \
                              |\
                              | \
                              |  \
                              |   v0
        </code></pre>
        Represent points <code>p(t)</code> on the line segment between <code>v0</code>
        and <code>v1</code> with the following parametric equation.
        <pre><code>
                  p(t) = (1-t) * v0 + t * v1  with  0 &lt;= t &lt;= 1
        </code></pre>
        Notice that this equation parameterizes the line segment starting
        with <code>v0</code> at <code>t=0</code> (on the "wrong side") and ending
        with <code>v1</code> at <code>t=1</code> (on the "right side"). We need to
        find the value of <code>t</code> when the line segment crosses the
        clipping line <code>x = 1</code>. Let <code>v0 = (x0, y0)</code> and let
        <code>v1 = (x1, y1)</code>. Then the above parametric equation becomes
        the two component equations
        <pre><code>
                 x(t) = (1-t) * x0 + t * x1,
                 y(t) = (1-t) * y0 + t * y1,  with  0 &lt;= t &lt;= 1.
        </code></pre>
        Since the clipping line in this example is <code>x = 1</code>, we need
        to solve the equation <code>x(t) = 1</code> for <code>t</code>. So we need
        to solve
        <pre><code>
                  1 = (1-t) * x0 + t * x1
        </code></pre>
        for <code>t</code>. Here are a few algebra steps.
        <pre><code>
                  1 = x0 - t * x0 + t * x1
                  1 = x0 + t * (x1 - x0)
                  1 - x0 = t * (x1 - x0)
                       t = (1 - x0)/(x1 - x0)
        </code></pre>
        We get similar equations for <code>t</code> if we clip against the other
        clipping lines (<code>x = -1</code>, <code>y = 1</code>, or <code>y = -1</code>)
        and we assume that <code>v0</code> is on the "wrong side" and <code>v1</code>
        is on the "right side".
<p>
        Let <code>t0</code> denote the above value for <code>t</code>. With this value
        for <code>t</code>, we can compute the y-coordinate of the new vertex
        <code>p(t0)</code> that replaces <code>v0</code>.
        <pre><code>
                             x=1
                        v1    |
                          \   |
                           \  |
                            \ |
                              p(t0)=(1, y(t0))
                              |
                              |
                              |
         </code></pre>
         Here is the algebra.
         <pre><code>
                  y(t0) = (1-t0) * y0 + t0 * y1
                        = y0 + t0 * (y1 - y0)
                        = y0 + (1 - x0)*((y1 - y0)/(x1 - x0))
         </code></pre>
         Finally, the new line segment between <code>v1</code> and the new
         vertex <code>p(t0)</code> is recursively clipped so that it can be
         checked to see if it should be trivially accepted, trivially
         rejected, or clipped again.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html?is-external=true" title="class or interface in java.util" class="externalLink">Optional</a>&lt;<a href="../scene/primitives/Primitive.html" title="class in renderer.scene.primitives">Primitive</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clip(renderer.scene.Model,renderer.scene.primitives.LineSegment)">clip</a></span>&#8203;(<a href="../scene/Model.html" title="class in renderer.scene">Model</a>&nbsp;model,
    <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives">LineSegment</a>&nbsp;ls)</code></th>
<td class="colLast">
<div class="block">If the <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> sticks out of the view rectangle,
      then return a clipped version that is contained in the view
      rectangle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="clip(renderer.scene.Model,renderer.scene.primitives.LineSegment)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clip</h4>
<pre class="methodSignature">public static&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html?is-external=true" title="class or interface in java.util" class="externalLink">Optional</a>&lt;<a href="../scene/primitives/Primitive.html" title="class in renderer.scene.primitives">Primitive</a>&gt;&nbsp;<a href="../../src-html/renderer/pipeline/Clip_Line.html#line.227">clip</a>&#8203;(<a href="../scene/Model.html" title="class in renderer.scene">Model</a>&nbsp;model,
                                       <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives">LineSegment</a>&nbsp;ls)</pre>
<div class="block">If the <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> sticks out of the view rectangle,
      then return a clipped version that is contained in the view
      rectangle. The new, clipped <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> object is
      returned wrapped in an <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>Optional</code></a> object.
      <p>
      At least one new clipped <a href="../scene/Vertex.html" title="class in renderer.scene"><code>Vertex</code></a> will be added to the
      <a href="../scene/Model.html" title="class in renderer.scene"><code>Model</code></a>'s vertex list (and as many as four new vertices
      may be added to the <a href="../scene/Model.html" title="class in renderer.scene"><code>Model</code></a>'s vertex list).
      <p>
      If the <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> is completely outside of the view
      rectangle, then return an empty <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>Optional</code></a> object to
      indicate that the <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> should be discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>model</code> - <a href="../scene/Model.html" title="class in renderer.scene"><code>Model</code></a> that the <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> <code>ls</code> comes from</dd>
<dd><code>ls</code> - <a href="../scene/primitives/LineSegment.html" title="class in renderer.scene.primitives"><code>LineSegment</code></a> to be clipped</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a clipped version of <code>ls</code> wrapped in an <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>Optional</code></a> object</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
